"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Vault=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vault=void 0,function(){function t(t){this.options={type:"local",prefix:""},this.options=__assign(__assign({},this.options),t),this.store=window["".concat(this.options.type,"Storage")]}return Object.defineProperty(t.prototype,"isSupported",{get:function(){return"function"==typeof Storage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return __assign({},this.store)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.store.length},enumerable:!1,configurable:!0}),t.prototype.getKey=function(t){return this.options.prefix?"".concat(this.options.prefix,"-").concat(t):t},t.prototype.set=function(t,e){try{this.store.setItem(this.getKey(t),JSON.stringify(e))}catch(t){throw t instanceof DOMException?new Error("[Vault] Storage limit exceeded: ".concat(t)):new Error("[Vault] Unknown error: ".concat(t))}},t.prototype.get=function(e){try{var t=this.store.getItem(this.getKey(e));if(t)return JSON.parse(t)}catch(t){throw new Error('[Vault] Error parsing key "'.concat(this.getKey(e),'": ').concat(t))}},t.prototype.remove=function(t){this.store.removeItem(this.getKey(t))},t.prototype.removeAll=function(){this.store.clear()},t.prototype.onChange=function(t,e){function o(t){return r===t[r]&&e(t)}var r=this.getKey(t);return window.addEventListener("storage",o),function(){return window.removeEventListener("storage",o)}},t}());exports.Vault=Vault,window.Vault=Vault;
//# sourceMappingURL=dist/lib/vault.js.map